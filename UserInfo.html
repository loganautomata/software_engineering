<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title></title>
        <style type="text/css">
            form
            {
                width:100%;
                height:100vh;
                margin: 0;
                background-image:url(picture.jpg);
                background-size: cover;
            }
            div
            {
                display:inline-block;
                padding-top: 80px;
                padding-right: 20px;
            }
            h2
            {
                font-family: "微软雅黑";
                font-size: 40px;
                color:black;
            }
            p
            {
                font-family: "微软雅黑";
                font-size: 20px;
                color:black;
            }
			.style1{
			width:15px;
			height:15px;
			border-radius:50%;
			background-color:green;
			display: block;
			}
        </style>
        
        
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
		
    </head>
    <body>
        <form name="UserInfor">
            <center>
            <div>
            <h2>
                用户名 <span><a id="username"> </a></span>
            </h2>
            
            <div class="layui-input-inline">
            <p>
                状态: <span><h2 id="status"></h2></span>
            </p>
            <input id =btn1 class="style1" />
            
            </div>
            <p>
                创建时间:    <span id="create_time"></span>
            </p>
            <p>
                登陆时间：<span id="last_login_time"></span>
            </p> 
            <p>
                登陆ip:<span id="last_login_ip"></span>
            </p>
     </div>
            </center>
        </form>
	    <!--<input type="button" name="confirmAlter" value="确认修改" οnclick="myfunction()"/>-->
    <script>
    

	
	//myfunction();
	
		function replace(num){
		var btn1=document.getElementById('btn1');
		if(num==1){
			btn1.style.backgroundColor="red";
		}
		}
	 
		
    (function (){
        //var username = "cmq";
		window.localStorage = {
    data: {},
    setItem(key, value) {
        this.data[key] = value;
    },
    getItem(key) {
        return this.data[key];
    }
};
        var username=window.localStorage.getItem("username");
        let token=localStorage.getItem("token");
		//axios.defaults.headers.common['Authorization'] = token;
		//let token = '';
		//var token=localStrorage.getItem("token");
	//axios.interception.request.use(config => {
	//config.headers.Authorization = window.localStorage.getItem('token')
	//return config
	//})
	axios.get('https://api.loganren.xyz/course/v1.0/user/'+username, {
    params: {
      
    }
    })
  .then(function (response) {
    //alert(response.data);
	console.log(response);
    let data = response.data.data;
    console.log(data);
    document.getElementById('username').innerHTML = data['username'];
   //unpkg.com/axios/dist/axios.min.js document.getElementById('').innerHTML = data['status'];
	document.getElementById('create_time').innerHTML =  data['create_time'];
	document.getElementById('last_login_time').innerHTML =  data['last_login_time'];
	document.getElementById('last_login_ip').innerHTML =  data['last_login_ipv4'];
  })
  .catch(function (error) {
    //alert(error.data);
    console.log(response.data);
  });
  
}
    )();

    </script>
    </body>
</html>

